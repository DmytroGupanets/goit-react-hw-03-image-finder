{"version":3,"sources":["components/imageGallery/imageGalleryItem/ImageGalleryItem.js","components/imageGallery/ImageGallery.js","components/searchbar/Searchbar.js","components/modal/Modal.js","components/button/Button.js","services/pixabayApi.js","components/App.js","index.js"],"names":["ImageGalleryItem","webformatURL","tags","largeImageURL","toggleModal","className","src","alt","onClick","ImageGallery","pictures","map","picture","id","Searchbar","state","query","onHandleChange","e","setState","currentTarget","value","onFormSubmit","preventDefault","props","onSubmit","this","type","autoComplete","autoFocus","placeholder","onChange","Component","modalRoot","document","querySelector","Modal","closeModalByEsc","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","url","Button","children","loadMore","axios","defaults","baseURL","fetchPicturesApi","a","searchQuery","currentPage","pageSize","get","then","response","data","hits","length","Promise","reject","App","showModal","originalPictureSize","originalPictureTag","loaderVisible","fetchPictures","options","prevState","catch","console","log","finally","tag","prevProps","dir","scrollTo","top","documentElement","scrollHeight","behavior","shouldRenderShowMoreButton","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.14fa4459.chunk.js","sourcesContent":["import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst ImageGalleryItem = ({\r\n  webformatURL,\r\n  tags,\r\n  largeImageURL,\r\n  toggleModal,\r\n}) => {\r\n  const onImgClick = () => {\r\n    toggleModal(largeImageURL, tags);\r\n  };\r\n\r\n  return (\r\n    <li className=\"ImageGalleryItem\">\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={onImgClick}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"./imageGalleryItem/ImageGalleryItem\";\r\n\r\nconst ImageGallery = ({ pictures, toggleModal }) => {\r\n  return (\r\n    <ul className=\"ImageGallery\">\r\n      {pictures.map((picture) => (\r\n        <ImageGalleryItem\r\n          key={picture.id}\r\n          {...picture}\r\n          toggleModal={toggleModal}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  pictures: PropTypes.array.isRequired,\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass Searchbar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  onHandleChange = (e) => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  onFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className=\"Searchbar\">\r\n        <form className=\"SearchForm\" onSubmit={this.onFormSubmit}>\r\n          <button type=\"submit\" className=\"SearchForm-button\">\r\n            <span className=\"SearchForm-button-label\">Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className=\"SearchForm-input\"\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.query}\r\n            onChange={this.onHandleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","import React, { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.closeModalByEsc);\r\n  }\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.closeModalByEsc);\r\n  }\r\n\r\n  closeModalByEsc = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.toggleModal(\"\", \"\");\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = (e) => {\r\n    if (e.currentTarget === e.target) {\r\n      this.props.toggleModal(\"\", \"\");\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className=\"Overlay\" onClick={this.handleBackdropClick}>\r\n        <div className=\"Modal\">\r\n          <img src={this.props.url} alt={this.props.alt} />\r\n        </div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  toggleModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst Button = ({ children, loadMore }) => {\r\n  const onLoadMore = () => {\r\n    loadMore();\r\n  };\r\n\r\n  return (\r\n    <button className=\"Button\" type=\"button\" onClick={onLoadMore}>\r\n      {children}\r\n    </button>\r\n  );\r\n};\r\n\r\nButton.propTypes = {\r\n  children: PropTypes.element.isRequired,\r\n  loadMore: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n\r\nconst fetchPicturesApi = async ({\r\n  searchQuery = \"\",\r\n  currentPage = 1,\r\n  pageSize = 12,\r\n}) => {\r\n  const response = await axios\r\n    .get(\r\n      `?q=${searchQuery}&page=${currentPage}&key=22061138-96faef093f4ee88d8ff48fa2c&image_type=photo&orientation=horizontal&per_page=${pageSize}`\r\n    )\r\n    .then((response) => response.data.hits);\r\n\r\n  if (!response.length) return Promise.reject(\"No any matches found!\");\r\n  if (response.length) return response;\r\n};\r\n\r\nexport default fetchPicturesApi;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ImageGallery from \"./imageGallery/ImageGallery\";\r\nimport Searchbar from \"./searchbar/Searchbar\";\r\nimport Modal from \"./modal/Modal\";\r\nimport Button from \"./button/Button\";\r\n\r\nimport fetchPicturesApi from \"../services/pixabayApi\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    pictures: [],\r\n    searchQuery: \"\",\r\n    currentPage: 1,\r\n    showModal: false,\r\n    originalPictureSize: \"\",\r\n    originalPictureTag: \"\",\r\n    loaderVisible: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchPictures();\r\n    }\r\n\r\n    console.dir(window);\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: \"smooth\",\r\n    });\r\n  }\r\n\r\n  onFormSubmit = (query) => {\r\n    this.setState({ searchQuery: query, currentPage: 1, pictures: [] });\r\n  };\r\n\r\n  fetchPictures = () => {\r\n    const { searchQuery, currentPage } = this.state;\r\n    const options = { searchQuery, currentPage };\r\n\r\n    this.setState({ loaderVisible: true });\r\n\r\n    fetchPicturesApi(options)\r\n      .then((response) =>\r\n        this.setState((prevState) => ({\r\n          pictures: [...prevState.pictures, ...response],\r\n          currentPage: prevState.currentPage + 1,\r\n        }))\r\n      )\r\n      .catch(console.log)\r\n      .finally(() => this.setState({ loaderVisible: false }));\r\n  };\r\n\r\n  toggleModal = (url, tag) => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      originalPictureSize: url,\r\n      originalPictureTag: tag,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { pictures, originalPictureSize, originalPictureTag, loaderVisible } =\r\n      this.state;\r\n    const shouldRenderShowMoreButton = pictures.length > 0;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.onFormSubmit} />\r\n        <ImageGallery pictures={pictures} toggleModal={this.toggleModal} />\r\n        {shouldRenderShowMoreButton && (\r\n          <Button loadMore={this.fetchPictures}>\r\n            {loaderVisible ? (\r\n              <Loader type=\"ThreeDots\" color=\"#FFFFFF\" height={18} width={30} />\r\n            ) : (\r\n              <span>Load more</span>\r\n            )}\r\n          </Button>\r\n        )}\r\n\r\n        {this.state.showModal && (\r\n          <Modal\r\n            url={originalPictureSize}\r\n            alt={originalPictureTag}\r\n            toggleModal={this.toggleModal}\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport \"./index.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}